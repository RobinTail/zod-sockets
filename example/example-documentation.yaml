asyncapi: 2.5.0
info:
  title: Example APP
  version: 0.11.0
  contact:
    name: Anna Bocharova
    url: https://robintail.cz
    email: me@robintail.cz
  license:
    name: MIT
  description: AsyncAPI documentation example
id: urn:example:com:socket.io
defaultContentType: text/plain
tags: []
servers:
  example:
    url: https://example.com/socket.io
    protocol: socket.io
channels:
  /:
    description: / namespace
    bindings:
      socket.io:
        bindingVersion: 0.11.0
        method: GET
        headers:
          type: object
          properties:
            connection:
              type: string
              enum:
                - Upgrade
            upgrade:
              type: string
              enum:
                - websocket
        query:
          type: object
          properties:
            EIO:
              type: string
              enum:
                - "4"
              description: Mandatory, the version of the protocol
            transport:
              oneOf:
                - type: string
                  enum:
                    - polling
                - type: string
                  enum:
                    - websocket
              description: Mandatory, the name of the transport.
            sid:
              type: string
              description: The session identifier
          required:
            - EIO
            - transport
          externalDocs:
            description: Engine.IO Protocol
            url: https://socket.io/docs/v4/engine-io-protocol/
    subscribe:
      operationId: out/
      description: The messages produced by the application within the / namespace
      message:
        oneOf:
          - name: time
            title: time
            messageId: out//time
            payload:
              type: object
              format: tuple
              properties:
                "0":
                  type: string
                  description: current ISO time
              required:
                - "0"
              additionalProperties: false
          - name: chat
            title: chat
            messageId: out//chat
            payload:
              type: object
              format: tuple
              properties:
                "0":
                  type: string
                  description: message
                "1":
                  type: object
                  properties:
                    from:
                      type: string
                      description: the ID of author
                  required:
                    - from
                  description: extra info
              required:
                - "0"
                - "1"
              additionalProperties: false
          - name: rooms
            title: rooms
            messageId: out//rooms
            payload:
              type: object
              format: tuple
              properties:
                "0":
                  type: array
                  items:
                    type: string
                  description: room IDs
              required:
                - "0"
              additionalProperties: false
    publish:
      operationId: in/
      description: The messages consumed by the application within the / namespace
      message:
        oneOf:
          - name: chat
            title: chat
            messageId: in//chat
            payload:
              type: object
              format: tuple
              properties:
                "0":
                  type: string
                  description: message
              required:
                - "0"
              additionalProperties: false
          - name: ping
            title: ping
            messageId: in//ping
            payload:
              type: object
              format: tuple
              properties: {}
              required: []
              additionalProperties:
                format: any
                description: Anything
            bindings:
              socket.io:
                bindingVersion: 0.11.0
                ack:
                  type: object
                  format: tuple
                  properties:
                    "0":
                      type: string
                      enum:
                        - pong
                      description: literally
                  required:
                    - "0"
                  additionalProperties:
                    format: any
                    description: echo
                  description: Acknowledgement
          - name: subscribe
            title: subscribe
            messageId: in//subscribe
            payload:
              type: object
              format: tuple
              properties: {}
              required: []
              additionalProperties:
                format: any
                description: Does not matter
components: {}
